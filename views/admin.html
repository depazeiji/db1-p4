<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!--
Template 2024 Vertiwood
http://www.tooplate.com/view/2024-vertiwood
-->
<title>Practica4</title>
<meta name="keywords" content="" />
<meta name="description" content="" />
<link href="stylesheets/tooplate_style.css" rel="stylesheet" type="text/css" />

<link rel="stylesheet" href="stylesheets/coda-slider.css" type="text/css" charset="utf-8" />

<script src="javascripts/js/jquery-1.2.6.js" type="text/javascript"></script>
<script src="javascripts/js/jquery.scrollTo-1.3.3.js" type="text/javascript"></script>
<script src="javascripts/js/jquery.localscroll-1.2.5.js" type="text/javascript" charset="utf-8"></script>
<script src="javascripts/js/jquery.serialScroll-1.2.1.js" type="text/javascript" charset="utf-8"></script>
<script src="javascripts/js/coda-slider.js" type="text/javascript" charset="utf-8"></script>
<script src="javascripts/js/jquery.easing.1.3.js" type="text/javascript" charset="utf-8"></script>

</head>
<body>
	
<div id="slider">
    <div id="tooplate_wrapper">
    	
        <div id="tooplate_sidebar">
        	
            <div id="header">
            	<h1>Administrador</h1>
            </div>

            <div id="menu">
                <ul class="navigation">
                	<li><a href="#agregarBus" class="selected">Agregar Bus</a></li>
                    <li><a href="#modificarBus">Modificar Bus</a></li>
                    <li><a href="#eliminarBus">Eliminar Bus</a></li>
                    <li><a href="#agregarRuta">Agregar Ruta</a></li>
                    <li><a href="#asignarBus" class="last">Asignar Bus</a></li>
                </ul>
            </div>
			
		</div> <!-- end of sidebar -->  
    
        <div id="content">
       	  	<div class="scroll">
        	  <div class="scrollContainer">
                <div class="panel" id="agregarBus">
				    <h2>Agregar Bus</h2>   
                     <form id="busNuevo" method="post" action="index.html" class="blue">
                    <p>
                      <label for="numero">Numero:</label>
                      <input id="numero" type="text" name="numero" value="">
                    </p>

                    <p>
                      <label for="tipo">Tipo (1: economico, 2: empresarial): </label>
                      <input id="tipo" type="text" name="tipo" value="">
                    </p>

                    <p class="submit">
                      <button type="submit" class="submit_btn float_l">Agregar</button>
                    </p>

                  </form>  


                </div> <!-- end of home -->
				
        	    <div class="panel" id="modificarBus">
                	<h2>Modificar Bus</h2>
                    <form id="busModificado" method="post" action="index.html" class="blue">
                    <p>
                      <label for="numeroM">Numero:</label>
                      <input id="numeroM" type="text" name="numeroM" value="">
                    </p>

                    <p>
                      <label for="tipoM">Tipo (1: economico, 2: empresarial): </label>
                      <input id="tipoM" type="text" name="tipoM" value="">
                    </p>

                    <p class="submit">
                      <button type="submit" class="submit_btn float_l">Modificar</button>
                    </p>

                  </form>  
      	      	</div> <!-- end of about us -->
				
        	    <div class="panel" id="eliminarBus">
                    <h2>Eliminar Bus</h2>
                     <form id="busEliminado" method="post" action="index.html" class="blue">
                    <p>
                      <label for="numeroE">Numero:</label>
                      <input id="numeroE" type="text" name="numeroE" value="">
                    </p>
                    <p class="submit">
                      <button type="submit" class="submit_btn float_l">Eliminar</button>
                    </p>

                  </form>
      	      	</div> <!-- end of services -->
				      
        	  	<div class="panel" id="agregarRuta">
        	      	<h2>Agregar Ruta</h2>
        	    	  <form id="agregarEstacion" method="post" action="index.html" class="blue">
                    <p>
                      <label for="estacion">Estacion:</label>
                      <input id="estacion" type="text" name="estacion" value="">
                    </p>
                    <p>
                      <label for="distancia">Distancia a la estacion anterior:</label>
                      <input id="distancia" type="text" name="distancia" value="">
                    </p>
                    <p>
                      <label for="lugar">Lugar dentro de la ruta:</label>
                      <input id="lugar" type="text" name="lugar" value="">
                    </p>
                    <p class="submit">
                      <button type="submit" class="submit_btn float_l">Agregar Estacion</button>
                    </p>
                  </form>

                <p><br/></p>
                <br/>
                  <form id="agregandoRuta" method="post" action="index.html" class="blue">
                    <p>
                      <label for="rutaN">Ruta Numero:</label>
                      <input id="rutaN" type="text" name="rutaN" value="">
                    </p>
                    <p class="submit">
                      <button type="submit" class="submit_btn float_l">Agregar Ruta</button>
                    </p>
                  </form>
                </div> <!-- end of gallery -->
				
        	    <div class="panel" id="asignarBus">
                    <h2>Asignar Bus</h2>
                    <form id="asignandoBus" method="post" action="index.html" class="blue">
                      <p>
                        <label for="rutaB">Ruta Numero:</label>
                        <input id="rutaB" type="text" name="rutaB" value="">
                      </p>
                      <p>
                        <label for="bus">Bus Numero:</label>
                        <input id="bus" type="text" name="bus" value="">
                      </p>
                      <p class="submit">
                        <button type="submit" class="submit_btn float_l">Asignar Bus</button>
                      </p>
                    </form>

                    <form id="historialBus" method="post" action="index.html" class="blue">
                      <p class="submit">
                        <button type="submit" class="submit_btn float_l">Ver Historial</button>
                      </p>
                    </form>
        	  	</div>
      	  	</div> <!-- end of asignar ruta -->
		</div>
		
        <div class="cleaner"></div>
	</div>
    </div> <!-- end of content -->
	
    <div id="footer">
        Copyright Â© 2015 <a href="#">Hecho por Eiji</a><br />
        Design: <b><a href="http://www.tooplate.com"><span class="orange">too</span><span class="green">plate</span></a></b>
		<!--
        <a href="http://www.tooplate.com/view/2024-vertiwood">Vertiwood</a> 
        by <a rel="nofollow" href="http://www.tooplate.com">Templates</a><br />
        -->
	</div>

</div>

<script src="javascripts/jquery.min.js"></script>
  <script src="javascripts/socket.io.js"></script>
  
  <script>
    jQuery(function($){
      var socket = io.connect('http://192.168.122.1:3002');
      var $agregarForm = $('#agregarBus');
      var $numero = $('#numero');
      var $tipo = $('#tipo');
      
      $agregarForm.submit(function(e){
        e.preventDefault();
        socket.emit('agregarBus', $numero.val(), $tipo.val());
        $tipo.val('');
        $numero.val('');
        //alert($nombre.val());
      });

      socket.on('busAgregado', function(valor, error){
         if(valor == 1){
            alert("Bus Agregado");
         } else{
            alert(error);
         }
      });

    });
  </script>

  <script>
    jQuery(function($){
      var socket = io.connect('http://192.168.122.1:3002');
      var $modificarForm = $('#modificarBus');
      var $numero = $('#numeroM');
      var $tipo = $('#tipoM');
      
      $modificarForm.submit(function(e){
        e.preventDefault();
        socket.emit('modificarBus', $numero.val(), $tipo.val());
        $tipo.val('');
        $numero.val('');
        //alert($nombre.val());
      });

      socket.on('busModificado', function(valor, error){
         if(valor == 1){
            alert("Bus Modificado");
         } else{
            alert(error);
         }
      });

    });
  </script>

<script>
    jQuery(function($){
      var socket = io.connect('http://192.168.122.1:3002');
      var $eliminarForm = $('#eliminarBus');
      var $numero = $('#numeroE');
      
      $eliminarForm.submit(function(e){
        e.preventDefault();
        socket.emit('eliminarBus', $numero.val());
        $numero.val('');
        //alert($nombre.val());
      });

      socket.on('busEliminado', function(valor, error){
         if(valor == 1){
            alert("Bus Eliminado");
         } else{
            alert(error);
         }
      });

    });
  </script>

  <script>
    jQuery(function($){
      var socket = io.connect('http://192.168.122.1:3002');
      var $estacionForm = $('#agregarEstacion');
      var $numero = $('#estacion');
      var $distancia = $('#distancia');
      var $lugar = $('#lugar');
      var $ruta = $('#rutaN');
      
      $estacionForm.submit(function(e){
        e.preventDefault();
        socket.emit('agregarEstacion', $ruta.val(), $numero.val(), $distancia.val(), $lugar.val());
        $numero.val('');
        $distancia.val('');
        $lugar.val('');
      });

      socket.on('estacionAgregada', function(valor, error){
          if(valor == 1){
              alert("Estacion agregada exitosamente");
          } else{
              alert(error);
           }
        });
      });

  </script>

    <script>
    jQuery(function($){
      var socket = io.connect('http://192.168.122.1:3002');
      var $rutaForm = $('#agregandoRuta');
      var $numero = $('#rutaN');
      
      $rutaForm.submit(function(e){
        e.preventDefault();
        socket.emit('agregarRuta', $numero.val());
        //$numero.val('');
        //alert($nombre.val());
      });

      socket.on('rutaAgregada', function(valor, error){
         if(valor == 1){
            alert("Ruta agregada exitosamente");
         } else{
            alert(error);
         }
      });

    });
  </script>

  <script>
    jQuery(function($){
      var socket = io.connect('http://192.168.122.1:3002');
      var $busForm = $('#asignandoBus');
      var $ruta = $('#rutaB');
      var $bus = $('#bus');
      
      $busForm.submit(function(e){
        e.preventDefault();
        socket.emit('asignarBus', $ruta.val(), $bus.val());
        $ruta.val('');
        $bus.val('');
        //alert($nombre.val());
      });

      socket.on('busAsignado', function(valor, error){
         if(valor == 1){
            alert("Bus asignado exitosamente");
         } else{
            alert(error);
         }
      });

    });
  </script>

  <script>
    jQuery(function($){
      var socket = io.connect('http://192.168.122.1:3002');
      var $historialForm = $('#historialBus');
      
      $historialForm.submit(function(e){
        e.preventDefault();
        socket.emit('verHistorial');
      });

      socket.on('historialBuses', function(valor, filas){
         if(valor == 1){
            alert(JSON.stringify(filas, null, 2));
         } else{
            alert(error);
         }
      });

    });
  </script>

</body>
</html>